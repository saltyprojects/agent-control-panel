<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Agent Control Panel - Secure AI Agent Orchestration</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, monospace;
      background: #0f0f0f;
      color: #e0e0e0;
      line-height: 1.6;
    }
    
    .header {
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      padding: 30px;
      border-bottom: 2px solid #00ff88;
    }
    
    .header h1 {
      font-size: 32px;
      color: #00ff88;
      margin-bottom: 8px;
    }
    
    .header .tagline {
      color: #888;
      font-size: 14px;
    }
    
    .security-alert {
      background: linear-gradient(135deg, #2d1f1f 0%, #1f1a1a 100%);
      border-left: 4px solid #ff3366;
      padding: 16px 30px;
      display: flex;
      align-items: center;
      gap: 15px;
    }
    
    .security-alert.ok {
      background: linear-gradient(135deg, #1f2d1f 0%, #1a1f1a 100%);
      border-left-color: #00ff88;
    }
    
    .security-alert .icon {
      font-size: 24px;
    }
    
    .security-alert .text {
      flex: 1;
    }
    
    .security-alert .text strong {
      color: #ff3366;
    }
    
    .security-alert.ok .text strong {
      color: #00ff88;
    }
    
    .stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 20px;
      padding: 30px;
      background: #1a1a1a;
    }
    
    .stat-card {
      background: #252525;
      padding: 20px;
      border-radius: 8px;
      border-left: 4px solid #00ff88;
    }
    
    .stat-card.warning {
      border-left-color: #ffc107;
    }
    
    .stat-card.danger {
      border-left-color: #ff3366;
    }
    
    .stat-card .label {
      color: #888;
      font-size: 12px;
      text-transform: uppercase;
      margin-bottom: 8px;
    }
    
    .stat-card .value {
      font-size: 28px;
      font-weight: 700;
      color: #00ff88;
    }
    
    .stat-card.warning .value {
      color: #ffc107;
    }
    
    .stat-card.danger .value {
      color: #ff3366;
    }
    
    .controls {
      padding: 30px;
      display: flex;
      gap: 15px;
      flex-wrap: wrap;
    }
    
    .btn {
      padding: 12px 24px;
      border: none;
      border-radius: 6px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .btn-primary {
      background: #00ff88;
      color: #0f0f0f;
    }
    
    .btn-primary:hover {
      background: #00dd77;
      transform: translateY(-2px);
    }
    
    .btn-secondary {
      background: #333;
      color: #fff;
    }
    
    .btn-secondary:hover {
      background: #444;
    }
    
    .btn-danger {
      background: #ff3366;
      color: white;
    }
    
    .btn-danger:hover {
      background: #dd2255;
    }
    
    .section-title {
      padding: 0 30px;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .section-title h2 {
      font-size: 20px;
      color: #fff;
    }
    
    .agents-grid {
      padding: 0 30px 30px;
      display: grid;
      gap: 20px;
    }
    
    .agent-card {
      background: #1a1a1a;
      border: 1px solid #333;
      border-radius: 12px;
      padding: 24px;
      transition: all 0.2s;
    }
    
    .agent-card:hover {
      border-color: #00ff88;
      box-shadow: 0 4px 20px rgba(0, 255, 136, 0.1);
    }
    
    .agent-card.security-warning {
      border-color: #ffc107;
    }
    
    .agent-card.security-alert {
      border-color: #ff3366;
    }
    
    .agent-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }
    
    .agent-name {
      font-size: 20px;
      font-weight: 700;
      color: #fff;
    }
    
    .agent-badges {
      display: flex;
      gap: 8px;
    }
    
    .status {
      padding: 6px 12px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
    }
    
    .status.running {
      background: rgba(0, 255, 136, 0.2);
      color: #00ff88;
    }
    
    .status.idle {
      background: rgba(255, 193, 7, 0.2);
      color: #ffc107;
    }
    
    .status.stopped {
      background: rgba(255, 51, 102, 0.2);
      color: #ff3366;
    }
    
    .security-score {
      padding: 6px 12px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
    }
    
    .security-score.good {
      background: rgba(0, 255, 136, 0.2);
      color: #00ff88;
    }
    
    .security-score.medium {
      background: rgba(255, 193, 7, 0.2);
      color: #ffc107;
    }
    
    .security-score.bad {
      background: rgba(255, 51, 102, 0.2);
      color: #ff3366;
    }
    
    .agent-details {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 16px;
      margin: 16px 0;
    }
    
    .detail {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }
    
    .detail-label {
      font-size: 11px;
      color: #666;
      text-transform: uppercase;
    }
    
    .detail-value {
      font-size: 14px;
      color: #ccc;
      font-weight: 600;
    }
    
    .detail-value.warning {
      color: #ffc107;
    }
    
    .detail-value.danger {
      color: #ff3366;
    }
    
    .activity {
      background: #0f0f0f;
      padding: 12px;
      border-radius: 6px;
      border-left: 3px solid #00ff88;
      margin: 16px 0;
      font-family: 'Courier New', monospace;
      font-size: 13px;
      color: #00ff88;
    }
    
    .security-log {
      background: #0f0f0f;
      padding: 12px;
      border-radius: 6px;
      border-left: 3px solid #ffc107;
      margin: 8px 0;
      font-family: 'Courier New', monospace;
      font-size: 12px;
    }
    
    .security-log.alert {
      border-left-color: #ff3366;
    }
    
    .log-entry {
      display: flex;
      gap: 10px;
      margin: 4px 0;
    }
    
    .log-time {
      color: #666;
    }
    
    .log-action {
      color: #ffc107;
    }
    
    .log-action.danger {
      color: #ff3366;
    }
    
    .permissions {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin-top: 12px;
    }
    
    .permission-badge {
      background: #252525;
      padding: 4px 10px;
      border-radius: 4px;
      font-size: 11px;
      color: #888;
      border: 1px solid #333;
    }
    
    .permission-badge.dangerous {
      border-color: #ff3366;
      color: #ff3366;
    }
    
    .agent-actions {
      display: flex;
      gap: 10px;
      margin-top: 16px;
    }
    
    .btn-small {
      padding: 8px 16px;
      font-size: 12px;
    }
    
    .audit-section {
      padding: 30px;
      background: #1a1a1a;
      margin-top: 20px;
    }
    
    .audit-section h3 {
      color: #fff;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .audit-table {
      width: 100%;
      border-collapse: collapse;
    }
    
    .audit-table th, .audit-table td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid #333;
    }
    
    .audit-table th {
      color: #888;
      font-size: 12px;
      text-transform: uppercase;
    }
    
    .audit-table td {
      font-family: 'Courier New', monospace;
      font-size: 13px;
    }
    
    .audit-table tr:hover {
      background: #252525;
    }
    
    .hero-cta {
      background: #16213e;
      padding: 60px 30px;
      text-align: center;
      margin-top: 40px;
    }
    
    .hero-cta h2 {
      font-size: 36px;
      margin-bottom: 20px;
      color: #00ff88;
    }
    
    .hero-cta p {
      font-size: 18px;
      color: #888;
      margin-bottom: 30px;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }
    
    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 30px;
      max-width: 1000px;
      margin: 40px auto;
      text-align: left;
    }
    
    .feature {
      background: rgba(0, 255, 136, 0.05);
      padding: 20px;
      border-radius: 8px;
      border: 1px solid rgba(0, 255, 136, 0.2);
    }
    
    .feature h4 {
      color: #00ff88;
      margin-bottom: 10px;
    }
    
    .feature p {
      font-size: 14px;
      color: #888;
      margin: 0;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>üõ°Ô∏è Agent Control Panel</h1>
    <p class="tagline">Secure orchestration, monitoring, and control for AI agent teams</p>
  </div>

  <div class="security-alert" id="security-banner">
    <span class="icon">‚ö†Ô∏è</span>
    <div class="text">
      <strong>2 Security Alerts</strong> ‚Äî Agent "Data Analyzer" accessed sensitive file outside sandbox
    </div>
    <button class="btn btn-small btn-secondary" onclick="viewAlerts()">View Alerts</button>
  </div>

  <div class="stats" id="stats">
    <div class="stat-card">
      <div class="label">Total Agents</div>
      <div class="value" id="total-agents">-</div>
    </div>
    <div class="stat-card">
      <div class="label">Running Now</div>
      <div class="value" id="running-agents">-</div>
    </div>
    <div class="stat-card warning">
      <div class="label">Security Alerts</div>
      <div class="value" id="security-alerts">2</div>
    </div>
    <div class="stat-card">
      <div class="label">Files Accessed</div>
      <div class="value" id="files-accessed">847</div>
    </div>
    <div class="stat-card">
      <div class="label">Tool Calls</div>
      <div class="value" id="tool-calls">2.4k</div>
    </div>
    <div class="stat-card">
      <div class="label">Total Cost</div>
      <div class="value" id="total-cost">$-</div>
    </div>
  </div>

  <div class="controls">
    <button class="btn btn-primary" onclick="spawnAgent()">+ Spawn New Agent</button>
    <button class="btn btn-secondary" onclick="viewAuditLog()">üìã Audit Log</button>
    <button class="btn btn-secondary" onclick="exportReport()">üìä Export Report</button>
    <button class="btn btn-danger" onclick="killAllAgents()">‚ö† Emergency Stop</button>
  </div>

  <div class="section-title">
    <h2>ü§ñ Active Agents</h2>
  </div>

  <div class="agents-grid" id="agents-grid">
    <!-- Agents will be loaded here -->
  </div>

  <div class="audit-section">
    <h3>üìã Recent Security Events</h3>
    <table class="audit-table">
      <thead>
        <tr>
          <th>Time</th>
          <th>Agent</th>
          <th>Action</th>
          <th>Target</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody id="audit-log">
        <tr>
          <td style="color:#666">00:42:31</td>
          <td>Data Analyzer</td>
          <td style="color:#ff3366">FILE_READ</td>
          <td>/etc/passwd</td>
          <td style="color:#ff3366">‚õî BLOCKED</td>
        </tr>
        <tr>
          <td style="color:#666">00:41:15</td>
          <td>Data Analyzer</td>
          <td style="color:#ffc107">FILE_READ</td>
          <td>~/.ssh/config</td>
          <td style="color:#ffc107">‚ö†Ô∏è FLAGGED</td>
        </tr>
        <tr>
          <td style="color:#666">00:40:22</td>
          <td>Code Generator</td>
          <td style="color:#00ff88">EXEC</td>
          <td>npm install</td>
          <td style="color:#00ff88">‚úì ALLOWED</td>
        </tr>
        <tr>
          <td style="color:#666">00:39:08</td>
          <td>Code Generator</td>
          <td style="color:#00ff88">FILE_WRITE</td>
          <td>./src/component.tsx</td>
          <td style="color:#00ff88">‚úì ALLOWED</td>
        </tr>
        <tr>
          <td style="color:#666">00:38:45</td>
          <td>QA Tester</td>
          <td style="color:#00ff88">WEB_FETCH</td>
          <td>api.github.com</td>
          <td style="color:#00ff88">‚úì ALLOWED</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="hero-cta">
    <h2>AI Agents Need Guardrails</h2>
    <p>When AI agents have full system access, security isn't optional. Know what your agents are doing, what they're accessing, and stop them before they go rogue.</p>
    
    <div class="features-grid">
      <div class="feature">
        <h4>üîí Permission Control</h4>
        <p>Fine-grained permissions per agent. Sandbox file access, limit network calls, restrict tool usage.</p>
      </div>
      <div class="feature">
        <h4>üìä Real-time Audit</h4>
        <p>Every file read, every tool call, every network request ‚Äî logged and searchable.</p>
      </div>
      <div class="feature">
        <h4>üö® Anomaly Detection</h4>
        <p>AI-powered detection of suspicious behavior. Get alerted before damage is done.</p>
      </div>
      <div class="feature">
        <h4>‚ö° Emergency Stop</h4>
        <p>One-click kill switch for all agents. Because sometimes you need to pull the plug.</p>
      </div>
    </div>
    
    <button class="btn btn-primary" style="margin-top:30px;">Get Early Access ‚Üí</button>
  </div>

  <script>
    const mockAgents = [
      {
        id: 'agent-1',
        name: 'Code Generator',
        status: 'running',
        model: 'claude-sonnet-4',
        uptime: '2h 34m',
        tokensUsed: 45231,
        cost: 2.34,
        permissions: ['read', 'write', 'exec'],
        lastActivity: 'Building React component...',
        securityScore: 'A',
        filesAccessed: 234,
        toolCalls: 892,
        alerts: 0
      },
      {
        id: 'agent-2',
        name: 'Data Analyzer',
        status: 'running',
        model: 'claude-opus-4.6',
        uptime: '45m',
        tokensUsed: 89012,
        cost: 8.90,
        permissions: ['read', 'web_search'],
        lastActivity: 'Analyzing dataset patterns...',
        securityScore: 'C',
        filesAccessed: 567,
        toolCalls: 1203,
        alerts: 2,
        recentAlerts: ['Attempted access to /etc/passwd', 'Read ~/.ssh/config']
      },
      {
        id: 'agent-3',
        name: 'QA Tester',
        status: 'idle',
        model: 'gpt-5.3-codex',
        uptime: '1h 12m',
        tokensUsed: 12400,
        cost: 0.62,
        permissions: ['read', 'exec'],
        lastActivity: 'Waiting for tasks...',
        securityScore: 'A+',
        filesAccessed: 46,
        toolCalls: 312,
        alerts: 0
      }
    ];

    function getSecurityScoreClass(score) {
      if (score === 'A+' || score === 'A') return 'good';
      if (score === 'B' || score === 'C') return 'medium';
      return 'bad';
    }

    function getCardClass(agent) {
      if (agent.alerts > 0) return 'security-alert';
      if (agent.securityScore === 'C' || agent.securityScore === 'D') return 'security-warning';
      return '';
    }

    function loadAgents() {
      renderAgents(mockAgents);
    }

    function loadStats() {
      const totalAgents = mockAgents.length;
      const runningAgents = mockAgents.filter(a => a.status === 'running').length;
      const totalCost = mockAgents.reduce((sum, a) => sum + a.cost, 0);
      
      document.getElementById('total-agents').textContent = totalAgents;
      document.getElementById('running-agents').textContent = runningAgents;
      document.getElementById('total-cost').textContent = '$' + totalCost.toFixed(2);
    }

    function renderAgents(agents) {
      const grid = document.getElementById('agents-grid');
      grid.innerHTML = agents.map(agent => `
        <div class="agent-card ${getCardClass(agent)}">
          <div class="agent-header">
            <div class="agent-name">${agent.name}</div>
            <div class="agent-badges">
              <div class="security-score ${getSecurityScoreClass(agent.securityScore)}">
                üõ°Ô∏è ${agent.securityScore}
              </div>
              <div class="status ${agent.status}">${agent.status.toUpperCase()}</div>
            </div>
          </div>
          
          <div class="agent-details">
            <div class="detail">
              <div class="detail-label">Model</div>
              <div class="detail-value">${agent.model}</div>
            </div>
            <div class="detail">
              <div class="detail-label">Uptime</div>
              <div class="detail-value">${agent.uptime}</div>
            </div>
            <div class="detail">
              <div class="detail-label">Files Accessed</div>
              <div class="detail-value ${agent.filesAccessed > 400 ? 'warning' : ''}">${agent.filesAccessed}</div>
            </div>
            <div class="detail">
              <div class="detail-label">Tool Calls</div>
              <div class="detail-value">${agent.toolCalls.toLocaleString()}</div>
            </div>
            <div class="detail">
              <div class="detail-label">Alerts</div>
              <div class="detail-value ${agent.alerts > 0 ? 'danger' : ''}">${agent.alerts}</div>
            </div>
            <div class="detail">
              <div class="detail-label">Cost</div>
              <div class="detail-value">$${agent.cost.toFixed(2)}</div>
            </div>
          </div>

          <div class="activity">
            > ${agent.lastActivity}
          </div>

          ${agent.recentAlerts ? `
            <div class="security-log alert">
              <div style="color:#ff3366;margin-bottom:8px;font-weight:bold;">‚ö†Ô∏è Recent Security Alerts:</div>
              ${agent.recentAlerts.map(a => `<div class="log-entry"><span class="log-action danger">‚Ä¢ ${a}</span></div>`).join('')}
            </div>
          ` : ''}

          <div class="permissions">
            ${agent.permissions.map(p => `<span class="permission-badge ${p === 'exec' ? 'dangerous' : ''}">${p}</span>`).join('')}
          </div>

          <div class="agent-actions">
            <button class="btn btn-primary btn-small" onclick="viewLogs('${agent.id}')">View Logs</button>
            <button class="btn btn-secondary btn-small" onclick="auditAgent('${agent.id}')">Audit</button>
            <button class="btn btn-danger btn-small" onclick="killAgent('${agent.id}')">Kill</button>
          </div>
        </div>
      `).join('');
    }

    function killAgent(id) {
      const agent = mockAgents.find(a => a.id === id);
      if (agent) {
        agent.status = 'stopped';
        loadAgents();
        loadStats();
      }
    }

    function spawnAgent() {
      const name = prompt('Agent name:', 'New Agent');
      if (!name) return;
      
      mockAgents.push({
        id: `agent-${Date.now()}`,
        name: name,
        status: 'running',
        model: 'claude-sonnet-4',
        uptime: '0m',
        tokensUsed: 0,
        cost: 0,
        permissions: ['read'],
        lastActivity: 'Initializing...',
        securityScore: 'A',
        filesAccessed: 0,
        toolCalls: 0,
        alerts: 0
      });
      loadAgents();
      loadStats();
    }

    function killAllAgents() {
      if (confirm('‚ö†Ô∏è EMERGENCY STOP\\n\\nThis will immediately terminate ALL running agents.\\n\\nAre you sure?')) {
        mockAgents.forEach(a => a.status = 'stopped');
        loadAgents();
        loadStats();
        alert('All agents terminated.');
      }
    }

    function viewLogs(id) { alert(`Opening logs for agent ${id}...`); }
    function viewAlerts() { alert('Opening security alerts panel...'); }
    function viewAuditLog() { alert('Opening full audit log...'); }
    function exportReport() { alert('Generating security report...'); }
    function auditAgent(id) { alert(`Opening security audit for agent ${id}...`); }

    // Load data on page load
    loadAgents();
    loadStats();

    // Refresh every 5 seconds
    setInterval(() => {
      loadAgents();
      loadStats();
    }, 5000);
  </script>
</body>
</html>
